{"id":"xIXH","dependencies":[{"name":"/Users/m/www/oio/land/oio.radio/package.json","includedInParent":true,"mtime":1585391671622},{"name":"/Users/m/www/oio/land/oio.radio/node_modules/asn1/package.json","includedInParent":true,"mtime":1585257763156},{"name":"assert","loc":{"line":3,"column":21},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/asn1/lib/ber/writer.js","resolved":"/Users/m/.config/yarn/global/node_modules/assert/assert.js"},{"name":"safer-buffer","loc":{"line":4,"column":21},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/asn1/lib/ber/writer.js","resolved":"/Users/m/www/oio/land/oio.radio/node_modules/safer-buffer/safer.js"},{"name":"./types","loc":{"line":5,"column":19},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/asn1/lib/ber/writer.js","resolved":"/Users/m/www/oio/land/oio.radio/node_modules/asn1/lib/ber/types.js"},{"name":"./errors","loc":{"line":6,"column":21},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/asn1/lib/ber/writer.js","resolved":"/Users/m/www/oio/land/oio.radio/node_modules/asn1/lib/ber/errors.js"}],"generated":{"js":"\nvar t=require(\"assert\"),e=require(\"safer-buffer\").Buffer,s=require(\"./types\"),i=require(\"./errors\"),r=i.newInvalidAsn1Error,f={size:1024,growthFactor:8};function o(e,s){return t.ok(e),t.equal(typeof e,\"object\"),t.ok(s),t.equal(typeof s,\"object\"),Object.getOwnPropertyNames(e).forEach(function(t){if(!s[t]){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(s,t,i)}}),s}function h(t){t=o(f,t||{}),this._buf=e.alloc(t.size||1024),this._size=this._buf.length,this._offset=0,this._options=t,this._seq=[]}Object.defineProperty(h.prototype,\"buffer\",{get:function(){if(this._seq.length)throw r(this._seq.length+\" unended sequence(s)\");return this._buf.slice(0,this._offset)}}),h.prototype.writeByte=function(t){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");this._ensure(1),this._buf[this._offset++]=t},h.prototype.writeInt=function(t,e){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");\"number\"!=typeof e&&(e=s.Integer);for(var i=4;(0==(4286578688&t)||-8388608==(4286578688&t))&&i>1;)i--,t<<=8;if(i>4)throw r(\"BER ints cannot be > 0xffffffff\");for(this._ensure(2+i),this._buf[this._offset++]=e,this._buf[this._offset++]=i;i-- >0;)this._buf[this._offset++]=(4278190080&t)>>>24,t<<=8},h.prototype.writeNull=function(){this.writeByte(s.Null),this.writeByte(0)},h.prototype.writeEnumeration=function(t,e){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");return\"number\"!=typeof e&&(e=s.Enumeration),this.writeInt(t,e)},h.prototype.writeBoolean=function(t,e){if(\"boolean\"!=typeof t)throw new TypeError(\"argument must be a Boolean\");\"number\"!=typeof e&&(e=s.Boolean),this._ensure(3),this._buf[this._offset++]=e,this._buf[this._offset++]=1,this._buf[this._offset++]=t?255:0},h.prototype.writeString=function(t,i){if(\"string\"!=typeof t)throw new TypeError(\"argument must be a string (was: \"+typeof t+\")\");\"number\"!=typeof i&&(i=s.OctetString);var r=e.byteLength(t);this.writeByte(i),this.writeLength(r),r&&(this._ensure(r),this._buf.write(t,this._offset),this._offset+=r)},h.prototype.writeBuffer=function(t,s){if(\"number\"!=typeof s)throw new TypeError(\"tag must be a number\");if(!e.isBuffer(t))throw new TypeError(\"argument must be a buffer\");this.writeByte(s),this.writeLength(t.length),this._ensure(t.length),t.copy(this._buf,this._offset,0,t.length),this._offset+=t.length},h.prototype.writeStringArray=function(t){if(!t instanceof Array)throw new TypeError(\"argument must be an Array[String]\");var e=this;t.forEach(function(t){e.writeString(t)})},h.prototype.writeOID=function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"argument must be a string\");if(\"number\"!=typeof e&&(e=s.OID),!/^([0-9]+\\.){3,}[0-9]+$/.test(t))throw new Error(\"argument is not a valid OID string\");var i=t.split(\".\"),r=[];r.push(40*parseInt(i[0],10)+parseInt(i[1],10)),i.slice(2).forEach(function(t){!function(t,e){e<128?t.push(e):e<16384?(t.push(e>>>7|128),t.push(127&e)):e<2097152?(t.push(e>>>14|128),t.push(255&(e>>>7|128)),t.push(127&e)):e<268435456?(t.push(e>>>21|128),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e)):(t.push(255&(e>>>28|128)),t.push(255&(e>>>21|128)),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e))}(r,parseInt(t,10))});var f=this;this._ensure(2+r.length),this.writeByte(e),this.writeLength(r.length),r.forEach(function(t){f.writeByte(t)})},h.prototype.writeLength=function(t){if(\"number\"!=typeof t)throw new TypeError(\"argument must be a Number\");if(this._ensure(4),t<=127)this._buf[this._offset++]=t;else if(t<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=t;else if(t<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t;else{if(!(t<=16777215))throw r(\"Length too long (> 4 bytes)\");this._buf[this._offset++]=131,this._buf[this._offset++]=t>>16,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t}},h.prototype.startSequence=function(t){\"number\"!=typeof t&&(t=s.Sequence|s.Constructor),this.writeByte(t),this._seq.push(this._offset),this._ensure(3),this._offset+=3},h.prototype.endSequence=function(){var t=this._seq.pop(),e=t+3,s=this._offset-e;if(s<=127)this._shift(e,s,-2),this._buf[t]=s;else if(s<=255)this._shift(e,s,-1),this._buf[t]=129,this._buf[t+1]=s;else if(s<=65535)this._buf[t]=130,this._buf[t+1]=s>>8,this._buf[t+2]=s;else{if(!(s<=16777215))throw r(\"Sequence too long\");this._shift(e,s,1),this._buf[t]=131,this._buf[t+1]=s>>16,this._buf[t+2]=s>>8,this._buf[t+3]=s}},h.prototype._shift=function(e,s,i){t.ok(void 0!==e),t.ok(void 0!==s),t.ok(i),this._buf.copy(this._buf,e+i,e,e+s),this._offset+=i},h.prototype._ensure=function(s){if(t.ok(s),this._size-this._offset<s){var i=this._size*this._options.growthFactor;i-this._offset<s&&(i+=s);var r=e.alloc(i);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=i}},module.exports=h;"},"sourceMaps":null,"error":null,"hash":"8312498f5e96dcae82e6eaf2dd9a374f","cacheData":{"env":{}}}