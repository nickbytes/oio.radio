{"id":"FZLT","dependencies":[{"name":"/Users/m/www/oio/land/oio.radio/package.json","includedInParent":true,"mtime":1585257763511},{"name":"/Users/m/.config/yarn/global/node_modules/stream-http/package.json","includedInParent":true,"mtime":1578331556897},{"name":"./capability","loc":{"line":1,"column":25},"parent":"/Users/m/.config/yarn/global/node_modules/stream-http/lib/request.js","resolved":"/Users/m/.config/yarn/global/node_modules/stream-http/lib/capability.js"},{"name":"inherits","loc":{"line":2,"column":23},"parent":"/Users/m/.config/yarn/global/node_modules/stream-http/lib/request.js","resolved":"/Users/m/.config/yarn/global/node_modules/inherits/inherits_browser.js"},{"name":"./response","loc":{"line":3,"column":23},"parent":"/Users/m/.config/yarn/global/node_modules/stream-http/lib/request.js","resolved":"/Users/m/.config/yarn/global/node_modules/stream-http/lib/response.js"},{"name":"readable-stream","loc":{"line":4,"column":21},"parent":"/Users/m/.config/yarn/global/node_modules/stream-http/lib/request.js","resolved":"/Users/m/.config/yarn/global/node_modules/readable-stream/readable-browser.js"},{"name":"to-arraybuffer","loc":{"line":5,"column":28},"parent":"/Users/m/.config/yarn/global/node_modules/stream-http/lib/request.js","resolved":"/Users/m/.config/yarn/global/node_modules/to-arraybuffer/index.js"},{"name":"buffer","parent":"/Users/m/.config/yarn/global/node_modules/stream-http/lib/request.js","resolved":"/Users/m/.config/yarn/global/node_modules/buffer/index.js"},{"name":"process","parent":"/Users/m/.config/yarn/global/node_modules/stream-http/lib/request.js","resolved":"/Users/m/.config/yarn/global/node_modules/process/browser.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar global = arguments[3];\nvar process = require(\"process\");\nvar e=require(\"buffer\").Buffer,t=arguments[3],r=require(\"process\"),o=require(\"./capability\"),n=require(\"inherits\"),i=require(\"./response\"),s=require(\"readable-stream\"),a=require(\"to-arraybuffer\"),c=i.IncomingMessage,u=i.readyStates;function d(e,t){return o.fetch&&t?\"fetch\":o.mozchunkedarraybuffer?\"moz-chunked-arraybuffer\":o.msstream?\"ms-stream\":o.arraybuffer&&e?\"arraybuffer\":o.vbArray&&e?\"text:vbarray\":\"text\"}var f=module.exports=function(t){var r,n=this;s.Writable.call(n),n._opts=t,n._body=[],n._headers={},t.auth&&n.setHeader(\"Authorization\",\"Basic \"+new e(t.auth).toString(\"base64\")),Object.keys(t.headers).forEach(function(e){n.setHeader(e,t.headers[e])});var i=!0;if(\"disable-fetch\"===t.mode||\"requestTimeout\"in t&&!o.abortController)i=!1,r=!0;else if(\"prefer-streaming\"===t.mode)r=!1;else if(\"allow-wrong-content-type\"===t.mode)r=!o.overrideMimeType;else{if(t.mode&&\"default\"!==t.mode&&\"prefer-fast\"!==t.mode)throw new Error(\"Invalid value for opts.mode\");r=!0}n._mode=d(r,i),n._fetchTimer=null,n.on(\"finish\",function(){n._onFinish()})};function h(e){try{var t=e.status;return null!==t&&0!==t}catch(r){return!1}}n(f,s.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var n=this;if(!n._destroyed){var i=n._opts,s=n._headers,c=null;\"GET\"!==i.method&&\"HEAD\"!==i.method&&(c=o.arraybuffer?a(e.concat(n._body)):o.blobConstructor?new t.Blob(n._body.map(function(e){return a(e)}),{type:(s[\"content-type\"]||{}).value||\"\"}):e.concat(n._body).toString());var d=[];if(Object.keys(s).forEach(function(e){var t=s[e].name,r=s[e].value;Array.isArray(r)?r.forEach(function(e){d.push([t,e])}):d.push([t,r])}),\"fetch\"===n._mode){var f=null;if(o.abortController){var h=new AbortController;f=h.signal,n._fetchAbortController=h,\"requestTimeout\"in i&&0!==i.requestTimeout&&(n._fetchTimer=t.setTimeout(function(){n.emit(\"requestTimeout\"),n._fetchAbortController&&n._fetchAbortController.abort()},i.requestTimeout))}t.fetch(n._opts.url,{method:n._opts.method,headers:d,body:c||void 0,mode:\"cors\",credentials:i.withCredentials?\"include\":\"same-origin\",signal:f}).then(function(e){n._fetchResponse=e,n._connect()},function(e){t.clearTimeout(n._fetchTimer),n._destroyed||n.emit(\"error\",e)})}else{var p=n._xhr=new t.XMLHttpRequest;try{p.open(n._opts.method,n._opts.url,!0)}catch(l){return void r.nextTick(function(){n.emit(\"error\",l)})}\"responseType\"in p&&(p.responseType=n._mode.split(\":\")[0]),\"withCredentials\"in p&&(p.withCredentials=!!i.withCredentials),\"text\"===n._mode&&\"overrideMimeType\"in p&&p.overrideMimeType(\"text/plain; charset=x-user-defined\"),\"requestTimeout\"in i&&(p.timeout=i.requestTimeout,p.ontimeout=function(){n.emit(\"requestTimeout\")}),d.forEach(function(e){p.setRequestHeader(e[0],e[1])}),n._response=null,p.onreadystatechange=function(){switch(p.readyState){case u.LOADING:case u.DONE:n._onXHRProgress()}},\"moz-chunked-arraybuffer\"===n._mode&&(p.onprogress=function(){n._onXHRProgress()}),p.onerror=function(){n._destroyed||n.emit(\"error\",new Error(\"XHR error\"))};try{p.send(c)}catch(l){return void r.nextTick(function(){n.emit(\"error\",l)})}}}},f.prototype._onXHRProgress=function(){h(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new c(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on(\"error\",function(t){e.emit(\"error\",t)}),e.emit(\"response\",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,t.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(e,t,r){\"function\"==typeof e&&(r=e,e=void 0),s.Writable.prototype.end.call(this,e,t,r)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var p=[\"accept-charset\",\"accept-encoding\",\"access-control-request-headers\",\"access-control-request-method\",\"connection\",\"content-length\",\"cookie\",\"cookie2\",\"date\",\"dnt\",\"expect\",\"host\",\"keep-alive\",\"origin\",\"referer\",\"te\",\"trailer\",\"transfer-encoding\",\"upgrade\",\"via\"];"},"sourceMaps":null,"error":null,"hash":"79cb42cd80a1f2c614e3a7b598e9d89f","cacheData":{"env":{}}}