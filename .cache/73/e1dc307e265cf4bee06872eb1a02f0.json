{"id":"mf4M","dependencies":[{"name":"/Users/m/www/oio/land/oio.radio/package.json","includedInParent":true,"mtime":1585257763511},{"name":"/Users/m/www/oio/land/oio.radio/node_modules/request/package.json","includedInParent":true,"mtime":1585257763171},{"name":"caseless","loc":{"line":3,"column":23},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/request/lib/auth.js","resolved":"/Users/m/www/oio/land/oio.radio/node_modules/caseless/index.js"},{"name":"uuid/v4","loc":{"line":4,"column":19},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/request/lib/auth.js","resolved":"/Users/m/www/oio/land/oio.radio/node_modules/uuid/v4.js"},{"name":"./helpers","loc":{"line":5,"column":22},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/request/lib/auth.js","resolved":"/Users/m/www/oio/land/oio.radio/node_modules/request/lib/helpers.js"}],"generated":{"js":"\"use strict\";var e=require(\"caseless\"),t=require(\"uuid/v4\"),r=require(\"./helpers\"),s=r.md5,i=r.toBase64;function a(e){this.request=e,this.hasAuth=!1,this.sentAuth=!1,this.bearerToken=null,this.user=null,this.pass=null}a.prototype.basic=function(e,t,r){if((\"string\"!=typeof e||void 0!==t&&\"string\"!=typeof t)&&this.request.emit(\"error\",new Error(\"auth() received invalid user or password\")),this.user=e,this.pass=t,this.hasAuth=!0,r||void 0===r){var s=\"Basic \"+i(e+\":\"+(t||\"\"));return this.sentAuth=!0,s}},a.prototype.bearer=function(e,t){if(this.bearerToken=e,this.hasAuth=!0,t||void 0===t){\"function\"==typeof e&&(e=e());var r=\"Bearer \"+(e||\"\");return this.sentAuth=!0,r}},a.prototype.digest=function(e,r,i){for(var a={},o=/([a-z0-9_-]+)=(?:\"([^\"]+)\"|([a-z0-9_-]+))/gi;;){var n=o.exec(i);if(!n)break;a[n[1]]=n[2]||n[3]}var h=/(^|,)\\s*auth\\s*($|,)/.test(a.qop)&&\"auth\",u=h&&\"00000001\",c=h&&t().replace(/-/g,\"\"),p=function(e,t,r,i,a,o){var n=s(t+\":\"+r+\":\"+i);return e&&\"md5-sess\"===e.toLowerCase()?s(n+\":\"+a+\":\"+o):n}(a.algorithm,this.user,a.realm,this.pass,a.nonce,c),d=s(e+\":\"+r),l=s(h?p+\":\"+a.nonce+\":\"+u+\":\"+c+\":\"+h+\":\"+d:p+\":\"+a.nonce+\":\"+d),v={username:this.user,realm:a.realm,nonce:a.nonce,uri:r,qop:h,response:l,nc:u,cnonce:c,algorithm:a.algorithm,opaque:a.opaque};for(var f in i=[],v)v[f]&&(\"qop\"===f||\"nc\"===f||\"algorithm\"===f?i.push(f+\"=\"+v[f]):i.push(f+'=\"'+v[f]+'\"'));return i=\"Digest \"+i.join(\", \"),this.sentAuth=!0,i},a.prototype.onRequest=function(e,t,r,s){var i,a=this.request;void 0===s&&void 0===e?this.request.emit(\"error\",new Error(\"no auth mechanism defined\")):i=void 0!==s?this.bearer(s,r):this.basic(e,t,r),i&&a.setHeader(\"authorization\",i)},a.prototype.onResponse=function(t){var r=this.request;if(!this.hasAuth||this.sentAuth)return null;var s=e(t.headers).get(\"www-authenticate\"),i=s&&s.split(\" \")[0].toLowerCase();switch(r.debug(\"reauth\",i),i){case\"basic\":return this.basic(this.user,this.pass,!0);case\"bearer\":return this.bearer(this.bearerToken,!0);case\"digest\":return this.digest(r.method,r.path,s)}},exports.Auth=a;"},"sourceMaps":null,"error":null,"hash":"b1660cccd5bf66fc42eb12734f52f904","cacheData":{"env":{}}}