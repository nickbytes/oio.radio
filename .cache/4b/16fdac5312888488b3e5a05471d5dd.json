{"id":"Mj72","dependencies":[{"name":"/Users/m/www/oio/land/oio.radio/package.json","includedInParent":true,"mtime":1585391671622},{"name":"/Users/m/www/oio/land/oio.radio/node_modules/combined-stream/package.json","includedInParent":true,"mtime":1585257763156},{"name":"util","loc":{"line":1,"column":19},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/combined-stream/lib/combined_stream.js","resolved":"/Users/m/.config/yarn/global/node_modules/util/util.js"},{"name":"stream","loc":{"line":2,"column":21},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/combined-stream/lib/combined_stream.js","resolved":"/Users/m/.config/yarn/global/node_modules/stream-browserify/index.js"},{"name":"delayed-stream","loc":{"line":3,"column":28},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/combined-stream/lib/combined_stream.js","resolved":"/Users/m/www/oio/land/oio.radio/node_modules/delayed-stream/lib/delayed_stream.js"},{"name":"buffer","parent":"/Users/m/www/oio/land/oio.radio/node_modules/combined-stream/lib/combined_stream.js","resolved":"/Users/m/.config/yarn/global/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar t=require(\"buffer\").Buffer,e=require(\"util\"),i=require(\"stream\").Stream,r=require(\"delayed-stream\");function s(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}module.exports=s,e.inherits(s,i),s.create=function(t){var e=new this;for(var i in t=t||{})e[i]=t[i];return e},s.isStreamLike=function(e){return\"function\"!=typeof e&&\"string\"!=typeof e&&\"boolean\"!=typeof e&&\"number\"!=typeof e&&!t.isBuffer(e)},s.prototype.append=function(t){if(s.isStreamLike(t)){if(!(t instanceof r)){var e=r.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on(\"data\",this._checkDataSize.bind(this)),t=e}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this},s.prototype.pipe=function(t,e){return i.prototype.pipe.call(this,t,e),this.resume(),t},s.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop)this._pendingNext=!0;else{this._insideLoop=!0;try{do{this._pendingNext=!1,this._realGetNext()}while(this._pendingNext)}finally{this._insideLoop=!1}}},s.prototype._realGetNext=function(){var t=this._streams.shift();void 0!==t?\"function\"==typeof t?t(function(t){s.isStreamLike(t)&&(t.on(\"data\",this._checkDataSize.bind(this)),this._handleErrors(t)),this._pipeNext(t)}.bind(this)):this._pipeNext(t):this.end()},s.prototype._pipeNext=function(t){if(this._currentStream=t,s.isStreamLike(t))return t.on(\"end\",this._getNext.bind(this)),void t.pipe(this,{end:!1});var e=t;this.write(e),this._getNext()},s.prototype._handleErrors=function(t){var e=this;t.on(\"error\",function(t){e._emitError(t)})},s.prototype.write=function(t){this.emit(\"data\",t)},s.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&\"function\"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit(\"pause\"))},s.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&\"function\"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit(\"resume\")},s.prototype.end=function(){this._reset(),this.emit(\"end\")},s.prototype.destroy=function(){this._reset(),this.emit(\"close\")},s.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},s.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t=\"DelayedStream#maxDataSize of \"+this.maxDataSize+\" bytes exceeded.\";this._emitError(new Error(t))}},s.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},s.prototype._emitError=function(t){this._reset(),this.emit(\"error\",t)};"},"sourceMaps":null,"error":null,"hash":"3508b6c7a3b26afe0b257d4a6cb9bff2","cacheData":{"env":{}}}