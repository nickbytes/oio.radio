{"id":"Gd07","dependencies":[{"name":"/Users/m/www/oio/land/oio.radio/package.json","includedInParent":true,"mtime":1585257763511},{"name":"/Users/m/www/oio/land/oio.radio/node_modules/request/package.json","includedInParent":true,"mtime":1585257763171},{"name":"uuid/v4","loc":{"line":3,"column":19},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/request/lib/multipart.js","resolved":"/Users/m/www/oio/land/oio.radio/node_modules/uuid/v4.js"},{"name":"combined-stream","loc":{"line":4,"column":29},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/request/lib/multipart.js","resolved":"/Users/m/www/oio/land/oio.radio/node_modules/combined-stream/lib/combined_stream.js"},{"name":"isstream","loc":{"line":5,"column":23},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/request/lib/multipart.js","resolved":"/Users/m/www/oio/land/oio.radio/node_modules/isstream/isstream.js"},{"name":"safe-buffer","loc":{"line":6,"column":21},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/request/lib/multipart.js","resolved":"/Users/m/www/oio/land/oio.radio/node_modules/safe-buffer/index.js"}],"generated":{"js":"\n\"use strict\";var e=require(\"uuid/v4\"),r=require(\"combined-stream\"),t=require(\"isstream\"),n=require(\"safe-buffer\").Buffer;function u(r){this.request=r,this.boundary=e(),this.chunked=!1,this.body=null}u.prototype.isChunked=function(e){var r=this,n=!1,u=e.data||e;return u.forEach||r.request.emit(\"error\",new Error(\"Argument error, options.multipart.\")),void 0!==e.chunked&&(n=e.chunked),\"chunked\"===r.request.getHeader(\"transfer-encoding\")&&(n=!0),n||u.forEach(function(e){void 0===e.body&&r.request.emit(\"error\",new Error(\"Body attribute missing in multipart.\")),t(e.body)&&(n=!0)}),n},u.prototype.setHeaders=function(e){e&&!this.request.hasHeader(\"transfer-encoding\")&&this.request.setHeader(\"transfer-encoding\",\"chunked\");var r=this.request.getHeader(\"content-type\");r&&-1!==r.indexOf(\"multipart\")?-1!==r.indexOf(\"boundary\")?this.boundary=r.replace(/.*boundary=([^\\s;]+).*/,\"$1\"):this.request.setHeader(\"content-type\",r+\"; boundary=\"+this.boundary):this.request.setHeader(\"content-type\",\"multipart/related; boundary=\"+this.boundary)},u.prototype.build=function(e,t){var u=this,i=t?new r:[];function o(e){return\"number\"==typeof e&&(e=e.toString()),t?i.append(e):i.push(n.from(e))}return u.request.preambleCRLF&&o(\"\\r\\n\"),e.forEach(function(e){var r=\"--\"+u.boundary+\"\\r\\n\";Object.keys(e).forEach(function(t){\"body\"!==t&&(r+=t+\": \"+e[t]+\"\\r\\n\")}),o(r+=\"\\r\\n\"),o(e.body),o(\"\\r\\n\")}),o(\"--\"+u.boundary+\"--\"),u.request.postambleCRLF&&o(\"\\r\\n\"),i},u.prototype.onRequest=function(e){var r=this.isChunked(e),t=e.data||e;this.setHeaders(r),this.chunked=r,this.body=this.build(t,r)},exports.Multipart=u;"},"sourceMaps":null,"error":null,"hash":"25aed65ff75dc992ddc9f9979f450fa7","cacheData":{"env":{}}}