{"id":"VwtC","dependencies":[{"name":"/Users/m/www/oio/land/oio.radio/package.json","includedInParent":true,"mtime":1585391671622},{"name":"/Users/m/www/oio/land/oio.radio/node_modules/request/package.json","includedInParent":true,"mtime":1585257763171},{"name":"url","loc":{"line":3,"column":18},"parent":"/Users/m/www/oio/land/oio.radio/node_modules/request/lib/redirect.js","resolved":"/Users/m/.config/yarn/global/node_modules/url/url.js"}],"generated":{"js":"\"use strict\";var e=require(\"url\"),t=/^https?:/;function r(e){this.request=e,this.followRedirect=!0,this.followRedirects=!0,this.followAllRedirects=!1,this.followOriginalHttpMethod=!1,this.allowRedirect=function(){return!0},this.maxRedirects=10,this.redirects=[],this.redirectsFollowed=0,this.removeRefererHeader=!1}r.prototype.onRequest=function(e){void 0!==e.maxRedirects&&(this.maxRedirects=e.maxRedirects),\"function\"==typeof e.followRedirect&&(this.allowRedirect=e.followRedirect),void 0!==e.followRedirect&&(this.followRedirects=!!e.followRedirect),void 0!==e.followAllRedirects&&(this.followAllRedirects=e.followAllRedirects),(this.followRedirects||this.followAllRedirects)&&(this.redirects=this.redirects||[]),void 0!==e.removeRefererHeader&&(this.removeRefererHeader=e.removeRefererHeader),void 0!==e.followOriginalHttpMethod&&(this.followOriginalHttpMethod=e.followOriginalHttpMethod)},r.prototype.redirectTo=function(e){var t=this.request,r=null;if(e.statusCode>=300&&e.statusCode<400&&e.caseless.has(\"location\")){var o=e.caseless.get(\"location\");if(t.debug(\"redirect\",o),this.followAllRedirects)r=o;else if(this.followRedirects)switch(t.method){case\"PATCH\":case\"PUT\":case\"POST\":case\"DELETE\":break;default:r=o}}else if(401===e.statusCode){var i=t._auth.onResponse(e);i&&(t.setHeader(\"authorization\",i),r=t.uri)}return r},r.prototype.onResponse=function(r){var o=this.request,i=this.redirectTo(r);if(!i||!this.allowRedirect.call(o,r))return!1;if(o.debug(\"redirect to\",i),r.resume&&r.resume(),this.redirectsFollowed>=this.maxRedirects)return o.emit(\"error\",new Error(\"Exceeded maxRedirects. Probably stuck in a redirect loop \"+o.uri.href)),!1;this.redirectsFollowed+=1,t.test(i)||(i=e.resolve(o.uri.href,i));var s=o.uri;return o.uri=e.parse(i),o.uri.protocol!==s.protocol&&delete o.agent,this.redirects.push({statusCode:r.statusCode,redirectUri:i}),this.followAllRedirects&&\"HEAD\"!==o.method&&401!==r.statusCode&&307!==r.statusCode&&(o.method=this.followOriginalHttpMethod?o.method:\"GET\"),delete o.src,delete o.req,delete o._started,401!==r.statusCode&&307!==r.statusCode&&(delete o.body,delete o._form,o.headers&&(o.removeHeader(\"host\"),o.removeHeader(\"content-type\"),o.removeHeader(\"content-length\"),o.uri.hostname!==o.originalHost.split(\":\")[0]&&o.removeHeader(\"authorization\"))),this.removeRefererHeader||o.setHeader(\"referer\",s.href),o.emit(\"redirect\"),o.init(),!0},exports.Redirect=r;"},"sourceMaps":null,"error":null,"hash":"f28b7720fa087017580012c2b2bec7f5","cacheData":{"env":{}}}